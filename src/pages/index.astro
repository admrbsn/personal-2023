---
import Layout from '../layouts/Layout.astro'
import Experience from '../components/Experience.astro'
import Project from '../components/Project.astro'
import dribbble from '@icon/dribbble.svg'
import github from '@icon/github.svg'
import linkedin from '@icon/linkedin.svg'
import email from '@icon/email.svg'
import emailAlt from '@icon/email-alt.svg'
import star from '@svg/star.svg'
import adam from '@img/adam.jpg'
import figmaLogo from '@svg/figma-logo.svg'
import figmaLogoOutline from '@svg/figma-logo-outline.svg'
import webflowLogo from '@svg/webflow-logo.svg'
import webflowLogoOutline from '@svg/webflow-logo-outline.svg'
import tailwindLogo from '@svg/tailwind-logo.svg'
import tailwindLogoOutline from '@svg/tailwind-logo-outline.svg'
import vueLogo from '@svg/vue-logo.svg'
import vueLogoOutline from '@svg/vue-logo-outline.svg'
import optimizeLogo from '@svg/optimize-logo.svg'
import optimizeLogoOutline from '@svg/optimize-logo-outline.svg'
import gtmLogo from '@svg/gtm-logo.svg'
import gtmLogoOutline from '@svg/gtm-logo-outline.svg'
import gaLogo from '@svg/ga-logo.svg'
import gaLogoOutline from '@svg/ga-logo-outline.svg'
import bootstrapLogo from '@svg/bootstrap-logo.svg'
import bootstrapLogoOutline from '@svg/bootstrap-logo-outline.svg'
import ionicLogo from '@svg/ionic-logo.svg'
import ionicLogoOutline from '@svg/ionic-logo-outline.svg'
import wordPressLogo from '@svg/wordpress-logo.svg'
import wordPressLogoOutline from '@svg/wordpress-logo-outline.svg'
import sketchLogo from '@svg/sketch-logo.svg'
import sketchLogoOutline from '@svg/sketch-logo-outline.svg'
import tributeCo from '@img/tribute-co.png'
import tributeGreetings from '@img/tribute-greetings.png'
import petersonsTestPrep from '@img/petersons-test-prep.png'
---

<Layout title="Adam Robertson | Prodcut Designer and Developer">
	<header role="banner" class="md:flex-row md:items-center md:mx-auto md:px-0 relative z-[60] flex flex-col justify-between w-full max-w-5xl px-3 py-5">
		<div>
			<h1 class=" fixed p-2 text-2xl font-extrabold tracking-wide text-white uppercase bg-black rounded-b-sm">Adam</h1>
		</div>
		<nav class="md:block md:mt-0 hidden">
			<ul class="flex flex-row">
				<li class="mr-3">
					<a class="highlight flex items-center font-semibold cursor-pointer" href="https://dribbble.com/adamrobertson" target="_blank">
						<img class="w-5 mr-1.5" src={dribbble} alt="Dribbble icon."/>
						Work
					</a>
				</li>
				<li class="mx-3">
					<a class="highlight flex items-center font-semibold cursor-pointer" href="https://github.com/admrbsn" target="_blank">
						<img class="w-5 mr-1.5" src={github} alt="Github icon."/>
						Code
					</a>
				</li>
				<li class="mx-3">
					<a class="highlight flex items-center font-semibold cursor-pointer" href="https://www.linkedin.com/in/admrbsn/" target="_blank">
						<img class="w-5 mr-1.5" src={linkedin} alt="LinkedIn icon."/>
						CV
					</a>
				</li>
				<li class="mx-3">
					<a class="highlight flex items-center font-semibold cursor-pointer" href="mailto:hi@adam.build">
						<img class="w-5 mr-1.5" src={email} alt="Email icon."/>
						hi@adam.build
					</a>
				</li>
			</ul>
		</nav>
	</header>
	<main>
		<!-- Hero -->
		
		<!-- About section -->
	
		<!-- Experience section -->
	
		<!-- Projects section -->
		<div class="md:max-w-5xl md:flex-row md:my-24 md:mx-auto md:pl-0 relative z-10 flex flex-col pl-3 my-12">
			<div class="md:order-none md:max-w-2xl md:mr-auto order-1 overflow-hidden">
				<ul role="list" class="md:block md:mt-2 flex overflow-auto">
					<Project
						href="https://adamrobertson.medium.com/tribute-greetings-case-study-860794e1c1cd"
						title="Tribute Greetings"
						body="Supercharge your project with new frameworks and libraries."
						image={tributeGreetings}
					/>
					<Project
						href="https://adamrobertson.medium.com/tribute-co-case-study-23e5785e9e24"
						title="Tribute.co"
						body="Learn how Astro works and explore the official API docs."
						image={tributeCo}
					/>
					<Project
						href="https://adamrobertson.medium.com/petersons-test-prep-ios-android-mobile-app-case-study-488e8389183d"
						title="Peterson's Test Prep"
						body="Supercharge your project with new frameworks and libraries."
						image={petersonsTestPrep}
					/>
				</ul>
			</div>
			<div class="title sticky top-24 md:top-8 w-full md:w-auto flex flex-col self-start md:mt-1.5 md:ml-12 pb-20 md:pb-0 bg-gradient-to-b from-white to-transparent text-3xl md:text-4xl font-heading font-extrabold tracking-tight">
				<div class="w-16 mb-3 border-2 border-black"></div>
				Recent work.
				<div class="md:block hidden mt-3 font-sans text-lg font-semibold tracking-normal">What I've been up to.</div>
			</div>
		</div>
		<!-- Recommendations section -->
		<!-- <div class="relative z-10 bg-[#fffacd]">
			<div id="recommendations" class="md:max-w-5xl md:flex-row md:py-24 md:mx-auto md:px-0 flex flex-col px-3 py-12">
				<div class="title yellow sticky z-10 top-24 md:top-28 flex flex-col self-start md:mt-1.5 md:mr-36 pb-20 md:pb-0 bg-gradient-to-b from-[#fffacd] to-transparent text-4xl font-heading font-extrabold tracking-tight">
					<div class="w-16 mb-3 border-2 border-black"></div>
					What co-workers have to say
					<div class="mt-3 font-sans text-lg font-normal tracking-normal">Behind every positive interaction is an experience that matters. Whether it's freelance clients or ex-supervisors, I cherish those positive interactions. At the end of the day, work is personal.</div>
				</div>
				<div class="md:order-none md:max-w-2xl md:ml-auto order-1">
					<div class="-left-12 rounded-xl relative p-8 mb-6 bg-white border-2 border-black">
						<div class="flex justify-end mb-4">
							<img class="w-10 mr-1" src={star} alt="Star."/>
							<img class="w-10 mr-1" src={star} alt="Star."/>
							<img class="w-10 mr-1" src={star} alt="Star."/>
							<img class="w-10 mr-1" src={star} alt="Star."/>
							<img class="w-10 mr-1" src={star} alt="Star."/>
						</div>
						<p class="mb-5 text-lg font-bold text-black">
							It was a pleasure working with Adam and I'd so again in a heartbeat. He's the type of guy you want on your team: creative, driven, resourceful, and fun to work with. Any company would be lucky to have him.
						</p>
						<p class="text-base font-bold text-black">Nate</p>
						<p class="text-base font-normal text-black opacity-75">Vice President of Services, Wayin</p>
					</div>
					<div class="rounded-xl relative p-8 mb-6 bg-white border-2 border-black">
						<div class="flex justify-end mb-4">
							<img class="w-10 mr-1" src={star} alt="Star."/>
							<img class="w-10 mr-1" src={star} alt="Star."/>
							<img class="w-10 mr-1" src={star} alt="Star."/>
							<img class="w-10 mr-1" src={star} alt="Star."/>
							<img class="w-10 mr-1" src={star} alt="Star."/>
						</div>
						<p class="mb-5 text-lg font-bold text-black">
							Our WordPress theme works flawlessly. Adam was prompt, thorough, and knowledgeable on everything from the design to the migration and hosting. He configured WordPress in a way that I've never seen beforeâ€”we're able to update virtually every piece of content without having to worry about the layout breaking.
						</p>
						<p class="text-base font-bold text-black">Erin</p>
						<p class="text-base font-normal text-black opacity-75">Vice President of Marketing, TinLeg</p>
					</div>
				</div>
			</div>
		</div> -->
	</main>
	
</Layout>

<script>
	// Doc height hack to defeate 100vh bugs
	const documentHeight = () => {
		const doc = document.documentElement
		doc.style.setProperty('--doc-height', `${window.innerHeight}px`)
	}
	documentHeight()

	// Function to check if an element is in the viewport
	function isInViewport(elem: HTMLElement): boolean {
		const bounding = elem.getBoundingClientRect()

		return (
			bounding.top >= 0 &&
			bounding.left >= 0 &&
			bounding.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&
			bounding.right <= (window.innerWidth || document.documentElement.clientWidth)
		)
	}

	// Modifying the DOM on scroll
	window.addEventListener('scroll', (event: Event) => {
		const scrollTop = window.pageYOffset as number
		const hero = document.getElementById('hero') as HTMLElement
		const skills = document.getElementById('skills') as HTMLElement

		// Setting hero opacity
		hero.style.opacity = `${0 + (hero.offsetHeight - scrollTop) / hero.offsetHeight}`
		
		// Toggling skill icons between filled and outline
		if (isInViewport(skills)) {
			skills.classList.add("filled")
		} else {
			skills.classList.remove("filled")
		}
	}, false)
</script>

<style>
	:root {
		--doc-height: 100%;
	}
	@font-face {
		font-family: 'Martian Grotesk';
		src: url('/fonts/MartianGrotesk-VF.woff2') format('woff2');
		font-weight: 100 1000;
  	font-stretch: 75% 200%;
	}
	:global(.highlight) {
		@apply w-fit ease-in-out duration-100 pb-0.5 no-underline bg-no-repeat border-b-2 border-solid border-black;
    background-image: linear-gradient(transparent 50%, #bff2ec 0%);
    background-size: 0 100%;
	}
	:global(.highlight:hover) {
		@apply border-[#4edbcb];
		background-size: 100% 100%;
	}
	.tooltip {
		@apply invisible;
	}

	.has-tooltip:hover .tooltip {
		@apply visible z-50;
	}
	#hero > div {
		height: var(--doc-height);
	}
	h1:before {
		@apply absolute -top-full left-0 w-full h-full bg-black;
		content: "";
	}
	#skills {
		@apply ease-in-out duration-500;
	}
	#skills.filled img,
	#skills img + img {
		@apply invisible opacity-0 ease-in-out duration-500;
	}
	#skills.filled img + img {
		@apply visible opacity-100 ease-in-out duration-500;
	}
	@media(max-width: 767px) {
		.title:before {
			@apply absolute -top-full -left-3 w-[calc(100%+1.5rem)] h-full bg-white;
			content: "";
		}
		.title.blue:before {
			@apply bg-[#e8faf8];
		}
		.title.yellow:before {
			@apply bg-[#fffacd];
		}
	}
</style>
